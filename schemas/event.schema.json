{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://github.com/prshlp/AI-dash/schemas/event.schema.json",
  "title": "Alumni Event Schema",
  "description": "Schema for alumni events in the Williams College Alumni Portal",
  "type": "object",
  "required": [
    "id",
    "title",
    "startDateTime",
    "eventType",
    "status"
  ],
  "properties": {
    "id": {
      "type": "integer",
      "minimum": 1,
      "description": "Unique identifier for the event"
    },
    "title": {
      "type": "string",
      "minLength": 1,
      "maxLength": 200,
      "description": "Event title"
    },
    "description": {
      "type": "string",
      "maxLength": 2000,
      "description": "Detailed event description"
    },
    "shortDescription": {
      "type": "string",
      "maxLength": 300,
      "description": "Brief event summary for listings"
    },
    "eventType": {
      "type": "string",
      "enum": [
        "networking",
        "reunion",
        "career",
        "social",
        "educational",
        "fundraising",
        "sports",
        "cultural",
        "virtual",
        "webinar",
        "conference",
        "workshop",
        "other"
      ],
      "description": "Type of event"
    },
    "category": {
      "type": "string",
      "maxLength": 50,
      "description": "Event category for filtering"
    },
    "startDateTime": {
      "type": "string",
      "format": "date-time",
      "description": "Event start date and time in ISO 8601 format"
    },
    "endDateTime": {
      "type": "string",
      "format": "date-time",
      "description": "Event end date and time in ISO 8601 format"
    },
    "timezone": {
      "type": "string",
      "description": "Timezone identifier (e.g., 'America/New_York')"
    },
    "location": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "enum": ["physical", "virtual", "hybrid"],
          "description": "Type of event location"
        },
        "venue": {
          "type": "string",
          "maxLength": 100,
          "description": "Venue name"
        },
        "address": {
          "type": "object",
          "properties": {
            "street": {
              "type": "string",
              "maxLength": 100
            },
            "city": {
              "type": "string",
              "maxLength": 50
            },
            "state": {
              "type": "string",
              "maxLength": 50
            },
            "zipCode": {
              "type": "string",
              "maxLength": 20
            },
            "country": {
              "type": "string",
              "maxLength": 50
            },
            "formatted": {
              "type": "string",
              "maxLength": 300,
              "description": "Complete formatted address"
            }
          }
        },
        "virtualLink": {
          "type": "string",
          "format": "uri",
          "description": "Virtual meeting link (Zoom, Teams, etc.)"
        },
        "virtualPlatform": {
          "type": "string",
          "enum": ["zoom", "teams", "webex", "google-meet", "other"],
          "description": "Virtual platform used"
        },
        "coordinates": {
          "type": "object",
          "properties": {
            "latitude": {
              "type": "number",
              "minimum": -90,
              "maximum": 90
            },
            "longitude": {
              "type": "number",
              "minimum": -180,
              "maximum": 180
            }
          },
          "required": ["latitude", "longitude"]
        }
      },
      "required": ["type"]
    },
    "organizer": {
      "type": "object",
      "required": ["name", "email"],
      "properties": {
        "name": {
          "type": "string",
          "maxLength": 100,
          "description": "Organizer name"
        },
        "email": {
          "type": "string",
          "format": "email",
          "description": "Organizer email"
        },
        "phone": {
          "type": "string",
          "description": "Organizer phone number"
        },
        "organization": {
          "type": "string",
          "maxLength": 100,
          "description": "Organizing department or club"
        }
      }
    },
    "registration": {
      "type": "object",
      "properties": {
        "required": {
          "type": "boolean",
          "default": false,
          "description": "Whether registration is required"
        },
        "deadline": {
          "type": "string",
          "format": "date-time",
          "description": "Registration deadline"
        },
        "capacity": {
          "type": "integer",
          "minimum": 1,
          "description": "Maximum number of attendees"
        },
        "currentCount": {
          "type": "integer",
          "minimum": 0,
          "description": "Current number of registered attendees"
        },
        "waitlistEnabled": {
          "type": "boolean",
          "default": false,
          "description": "Whether waitlist is enabled when capacity is reached"
        },
        "registrationUrl": {
          "type": "string",
          "format": "uri",
          "description": "External registration URL"
        },
        "cost": {
          "type": "object",
          "properties": {
            "amount": {
              "type": "number",
              "minimum": 0,
              "description": "Cost amount"
            },
            "currency": {
              "type": "string",
              "default": "USD",
              "description": "Currency code"
            },
            "description": {
              "type": "string",
              "maxLength": 200,
              "description": "Cost description (e.g., 'Includes dinner')"
            }
          }
        }
      }
    },
    "targetAudience": {
      "type": "object",
      "properties": {
        "classes": {
          "type": "array",
          "items": {
            "type": "string",
            "pattern": "^[0-9]{4}$"
          },
          "description": "Specific graduation years"
        },
        "classRanges": {
          "type": "array",
          "items": {
            "type": "object",
            "properties": {
              "start": {
                "type": "string",
                "pattern": "^[0-9]{4}$"
              },
              "end": {
                "type": "string",
                "pattern": "^[0-9]{4}$"
              }
            },
            "required": ["start", "end"]
          },
          "description": "Class year ranges"
        },
        "industries": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Target industries"
        },
        "locations": {
          "type": "array",
          "items": {
            "type": "string"
          },
          "description": "Target geographic locations"
        },
        "isOpenToAll": {
          "type": "boolean",
          "default": true,
          "description": "Whether event is open to all alumni"
        }
      }
    },
    "speakers": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name"],
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100
          },
          "title": {
            "type": "string",
            "maxLength": 100
          },
          "company": {
            "type": "string",
            "maxLength": 100
          },
          "bio": {
            "type": "string",
            "maxLength": 1000
          },
          "isAlumni": {
            "type": "boolean",
            "default": false
          },
          "class": {
            "type": "string",
            "pattern": "^[0-9]{4}$",
            "description": "Graduation year if alumni"
          },
          "photo": {
            "type": "string",
            "format": "uri",
            "description": "Speaker photo URL"
          }
        }
      },
      "description": "Event speakers"
    },
    "agenda": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["time", "activity"],
        "properties": {
          "time": {
            "type": "string",
            "description": "Time in HH:MM format or relative time"
          },
          "activity": {
            "type": "string",
            "maxLength": 200,
            "description": "Activity description"
          },
          "speaker": {
            "type": "string",
            "maxLength": 100,
            "description": "Speaker for this agenda item"
          },
          "location": {
            "type": "string",
            "maxLength": 100,
            "description": "Location for this specific activity"
          }
        }
      },
      "description": "Event agenda/schedule"
    },
    "status": {
      "type": "string",
      "enum": ["draft", "published", "cancelled", "postponed", "completed"],
      "description": "Event status"
    },
    "visibility": {
      "type": "string",
      "enum": ["public", "private", "invitation-only"],
      "default": "public",
      "description": "Event visibility level"
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "string",
        "maxLength": 30
      },
      "maxItems": 10,
      "uniqueItems": true,
      "description": "Event tags for categorization and search"
    },
    "images": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["url"],
        "properties": {
          "url": {
            "type": "string",
            "format": "uri"
          },
          "alt": {
            "type": "string",
            "maxLength": 200,
            "description": "Alt text for accessibility"
          },
          "caption": {
            "type": "string",
            "maxLength": 300,
            "description": "Image caption"
          },
          "isPrimary": {
            "type": "boolean",
            "default": false,
            "description": "Whether this is the primary event image"
          }
        }
      },
      "description": "Event images"
    },
    "documents": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["name", "url"],
        "properties": {
          "name": {
            "type": "string",
            "maxLength": 100,
            "description": "Document name"
          },
          "url": {
            "type": "string",
            "format": "uri",
            "description": "Document URL"
          },
          "type": {
            "type": "string",
            "enum": ["pdf", "doc", "docx", "ppt", "pptx", "other"],
            "description": "Document type"
          },
          "description": {
            "type": "string",
            "maxLength": 300,
            "description": "Document description"
          }
        }
      },
      "description": "Event-related documents"
    },
    "socialMedia": {
      "type": "object",
      "properties": {
        "hashtag": {
          "type": "string",
          "maxLength": 50,
          "description": "Event hashtag"
        },
        "facebookEvent": {
          "type": "string",
          "format": "uri",
          "description": "Facebook event URL"
        },
        "linkedinEvent": {
          "type": "string",
          "format": "uri",
          "description": "LinkedIn event URL"
        }
      }
    },
    "createdAt": {
      "type": "string",
      "format": "date-time",
      "description": "Event creation timestamp"
    },
    "updatedAt": {
      "type": "string",
      "format": "date-time",
      "description": "Last update timestamp"
    },
    "createdBy": {
      "type": "integer",
      "description": "ID of user who created the event"
    },
    "lastModifiedBy": {
      "type": "integer",
      "description": "ID of user who last modified the event"
    },
    "rsvpData": {
      "type": "object",
      "properties": {
        "attending": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of confirmed attendees"
        },
        "interested": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of interested users"
        },
        "notAttending": {
          "type": "integer",
          "minimum": 0,
          "description": "Number of users who declined"
        }
      }
    },
    "followUpActions": {
      "type": "array",
      "items": {
        "type": "object",
        "required": ["action", "dueDate"],
        "properties": {
          "action": {
            "type": "string",
            "maxLength": 200,
            "description": "Follow-up action description"
          },
          "assignedTo": {
            "type": "string",
            "maxLength": 100,
            "description": "Person responsible for the action"
          },
          "dueDate": {
            "type": "string",
            "format": "date",
            "description": "Due date for the action"
          },
          "completed": {
            "type": "boolean",
            "default": false,
            "description": "Whether the action is completed"
          }
        }
      },
      "description": "Post-event follow-up actions"
    }
  },
  "additionalProperties": false
}
